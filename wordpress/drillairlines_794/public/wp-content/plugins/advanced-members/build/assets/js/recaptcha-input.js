!function(e){if("undefined"!=typeof acf){var i=acf.Field.extend({type:"amem_recaptcha",wait:"load",widgetID:0,containerV2:null,events:{invalidField:"onInvalidField"},$control:function(){return this.$(".acf-input-wrap")},$input:function(){return this.$('input[type="hidden"]')},initialize:function(){n.load(this,this.render)},render:function(){"v2"===this.get("version")?this.renderV2():"v3"===this.get("version")&&this.renderV3()},getContainerV2:function(){return e("#amem-recaptcha-v2-widget").length||(this.containerV2=e("<div>").attr("id","amem-recaptcha-v2-widget"),this.$control().find("> div").append(this.containerV2)),this.containerV2},renderV2:function(){this.widgetID=grecaptcha.render(this.getContainerV2()[0],{sitekey:this.get("siteKey"),theme:this.get("theme"),size:this.get("size"),callback:this.proxy((function(e){acf.val(this.$input(),e,!0),this.removeError()})),"error-callback":this.proxy((function(){this.$el.addClass("acf-error"),this.showNotice({text:amemReCAPTCHA.l10n.error,type:"error",dismiss:!1})})),"expired-callback":this.proxy((function(){"invisible"==this.get("size")&&(this.reset(),this.showError(amemReCAPTCHA.l10n.expired))}))}),"invisible"==this.get("size")&&grecaptcha.execute(this.widgetID)},renderV3:function(){var t=this.$input(),i=this.get("siteKey"),n=this.get("hideBadge"),r=function(){grecaptcha.execute(i,{action:"homepage"}).then((function(e){acf.val(t,e,!0)})),setTimeout(r,9e4)};grecaptcha.ready((function(){n&&e(".grecaptcha-badge").css({visibility:"hidden"}),r()}))},reset:function(){"v2"===this.get("version")?(grecaptcha.reset(this.widgetID),acf.val(this.$input(),"",!0),"invisible"==this.get("size")&&(this.containerV2.remove(),this.renderV2())):"v3"===this.get("version")&&this.renderV3()},onInvalidField:function(e,t){this.reset()},validateReCAPTCHA:function(e){return this.i(e.form).validate(e)},i:function(e){var i=e.data("acf");return i||(i=new t(e)),i}});acf.registerFieldType(i);var n=new acf.Model({busy:!1,load:function(t,i){i=t.proxy(i);var n="https://www.google.com/recaptcha/api.js?render="+t.get("siteKey"),r="v2"===t.get("version")?"https://www.google.com/recaptcha/api.js?render=explicit":n;if("undefined"!=typeof grecaptcha||acf.isset(window,"grecaptcha"))return i();acf.addAction("amem/recpatcha/loaded",i),this.busy||(this.busy=!0,e.ajax({url:r,dataType:"script",cache:!0,context:this,success:function(){grecaptcha.ready(this.proxy((function(){acf.doAction("amem/recpatcha/loaded"),this.busy=!1})))}}))}})}}(jQuery);